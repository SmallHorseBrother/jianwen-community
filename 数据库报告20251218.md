业务数据表（public 模式） 下文对每张表列出：行数、RLS
状态、主键、外键、字段与类型、默认值、约束、注释（如有）。

1. profiles 行数：137 RLS：未启用 主键： id uuid（→ auth.users.id） 外键： id →
   auth.users.id admin_approved_by → auth.users.id 字段与属性： id uuid phone
   text（唯一） nickname text avatar_url text bio text 默认 ''::text bench_press
   int4 默认 0 squat int4 默认 0 deadlift int4 默认 0 is_public bool 默认 true
   created_at timestamptz 默认 now() updated_at timestamptz 默认 now() wechat_id
   text（注释：微信号） tags text[] 默认 '{}'::text[]（注释：个人标签）
   skills_offering text（注释：我擅长/能提供什么） skills_seeking
   text（注释：我正在寻找什么） group_identity text（注释：群身份） profession
   text（注释：专业领域） group_nickname text（注释：群昵称） specialties text[]
   默认 '{}'::text[]（注释：擅长领域） fitness_interests text[] 默认
   '{}'::text[]（注释：健身爱好） learning_interests text[] 默认
   '{}'::text[]（注释：学习兴趣） social_links jsonb 默认
   '{}'::jsonb（注释：社交链接） birth_year int4 location text status text 默认
   'active'::text，检查：status ∈ {active,inactive,busy,away}（注释：用户状态）
   last_active_at timestamptz 默认 now()（注释：最后活跃时间） match_score int4
   默认 0（注释：匹配分数） is_verified bool 默认 false（注释：验证状态）
   user_role text 默认 'user'::text，检查：user_role ∈
   {user,admin,super_admin}（注释：用户角色） admin_application_status
   text，检查：∈ {pending,approved,rejected}（注释：管理员申请状态）
   admin_applied_at timestamptz（注释：管理员申请时间） admin_approved_at
   timestamptz（注释：管理员批准时间） admin_approved_by
   uuid（注释：管理员批准人ID）
2. articles 行数：2 RLS：未启用 主键： id uuid 默认 gen_random_uuid() 外键：
   author_id → auth.users.id 由从表引用： article_likes.article_id → articles.id
   article_bookmarks.article_id → articles.id article_reports.article_id →
   articles.id 字段与属性： title text content text category text type
   text，检查：type ∈ {fitness,learning} author_id uuid author_name text id uuid
   默认 gen_random_uuid() summary text 默认 ''::text tags text[] 默认
   '{}'::text[] created_at timestamptz 默认 now() updated_at timestamptz 默认
   now() content_type text 默认 'article'::text，检查：∈
   {article,video,book,uploader,resource,tool}（注释：内容类型） external_url
   text（注释：外部链接） thumbnail_url text（注释：缩略图链接） metadata jsonb
   默认 '{}'::jsonb（注释：元数据） likes_count int4 默认 0（注释：点赞数）
   views_count int4 默认 0（注释：浏览数） status text 默认
   'published'::text，检查：∈
   {draft,pending,published,rejected}（注释：内容状态）
3. tasks 行数：2 RLS：未启用 主键： id uuid 默认 gen_random_uuid() 外键：
   user_id → auth.users.id 字段与属性： user_id uuid name text deadline
   timestamptz id uuid 默认 gen_random_uuid() description text 默认 ''::text
   is_completed bool 默认 false created_at timestamptz 默认 now() updated_at
   timestamptz 默认 now()
4. user_connections 行数：5 RLS：未启用 主键： id uuid 默认 gen_random_uuid()
   外键： from_user_id → auth.users.id to_user_id → auth.users.id 字段与属性：
   id uuid 默认 gen_random_uuid() status text 默认 'pending'::text，检查：∈
   {pending,accepted,rejected,blocked} created_at timestamptz 默认 now()
   updated_at timestamptz 默认 now() from_user_id uuid to_user_id uuid
   connection_type text，检查：∈ {follow,friend,block,match}
5. match_preferences 行数：1 RLS：未启用 主键： id uuid 默认 gen_random_uuid()
   外键： user_id（唯一）→ auth.users.id 字段与属性： user_id uuid（unique）
   location_preference text id uuid 默认 gen_random_uuid() preferred_groups
   text[] 默认 '{}'::text[] preferred_professions text[] 默认 '{}'::text[]
   preferred_specialties text[] 默认 '{}'::text[] preferred_fitness_interests
   text[] 默认 '{}'::text[] preferred_learning_interests text[] 默认
   '{}'::text[] age_range_min int4 默认 18 age_range_max int4 默认 100
   match_radius int4 默认 50 is_active bool 默认 true created_at timestamptz
   默认 now() updated_at timestamptz 默认 now()
6. community_activities 行数：93 RLS：未启用 主键： id uuid 默认
   gen_random_uuid() 外键： user_id → auth.users.id target_user_id →
   auth.users.id 字段与属性： user_id uuid activity_type text，检查：∈
   {profile_view,connection_request,message_sent,group_join,event_attend,match_request}
   target_user_id uuid target_content_id uuid id uuid 默认 gen_random_uuid()
   metadata jsonb 默认 '{}'::jsonb created_at timestamptz 默认 now()
7. article_likes 行数：0 RLS：未启用 主键： id uuid 默认 gen_random_uuid()
   外键： article_id → articles.id user_id → auth.users.id 字段与属性：
   article_id uuid user_id uuid id uuid 默认 gen_random_uuid() created_at
   timestamptz 默认 now()
8. article_bookmarks 行数：0 RLS：未启用 主键： id uuid 默认 gen_random_uuid()
   外键： article_id → articles.id user_id → auth.users.id 字段与属性： id uuid
   默认 gen_random_uuid() created_at timestamptz 默认 now() article_id uuid
   user_id uuid
9. article_reports 行数：0 RLS：未启用 主键： id uuid 默认 gen_random_uuid()
   外键： article_id → articles.id reporter_id → auth.users.id reviewed_by →
   auth.users.id 字段与属性： article_id uuid reporter_id uuid reason text
   reviewed_at timestamptz reviewed_by uuid id uuid 默认 gen_random_uuid()
   description text 默认 ''::text status text 默认 'pending'::text，检查：∈
   {pending,reviewed,resolved,dismissed} created_at timestamptz 默认 now()
10. admin_applications 行数：0 RLS：未启用 主键： id uuid 默认 gen_random_uuid()
    外键： user_id（唯一）→ auth.users.id reviewed_by → auth.users.id
    字段与属性： user_id uuid（unique） application_reason text reviewed_at
    timestamptz reviewed_by uuid id uuid 默认 gen_random_uuid()
    related_experience text 默认 ''::text contact_info text 默认 ''::text status
    text 默认 'pending'::text，检查：∈ {pending,approved,rejected} created_at
    timestamptz 默认 now() review_notes text 默认 ''::text
11. admin_logs 行数：0 RLS：未启用 主键： id uuid 默认 gen_random_uuid() 外键：
    admin_id → auth.users.id 字段与属性： admin_id uuid action text target_type
    text target_id uuid id uuid 默认 gen_random_uuid() description text 默认
    ''::text metadata jsonb 默认 '{}'::jsonb created_at timestamptz 默认 now()
12. questions 行数：0 RLS：启用 主键： id uuid 默认 gen_random_uuid() 外键：
    asker_id → auth.users.id 字段与属性： content text answer text asker_id uuid
    asker_nickname text answered_at timestamptz id uuid 默认 gen_random_uuid()
    status text 默认 'pending'::text，检查：∈ {pending,published,ignored}
    is_anonymous bool 默认 false tags text[] 默认 '{}'::text[] view_count int4
    默认 0 is_featured bool 默认 false created_at timestamptz 默认 now()
    updated_at timestamptz 默认 now()
13. admin_users 行数：0 RLS：启用 主键： user_id uuid（→ auth.users.id） 外键：
    user_id → auth.users.id 字段与属性： user_id uuid role text 默认
    'admin'::text，检查：∈ {admin,super_admin} created_at timestamptz 默认 now()
    关系与引用概览（public 内） users 关联（auth.users）：
    profiles.id、profiles.admin_approved_by articles.author_id tasks.user_id
    user_connections.from_user_id、to_user_id
    match_preferences.user_id（unique）
    community_activities.user_id、target_user_id article_likes.user_id
    article_bookmarks.user_id article_reports.reporter_id、reviewed_by
    admin_applications.user_id（unique）、reviewed_by admin_logs.admin_id
    questions.asker_id admin_users.user_id articles 被从表引用：
    article_likes.article_id article_bookmarks.article_id
    article_reports.article_id 附：少量集中建议（可选） 为 public
    模式中涉及用户数据与交互数据的表启用 RLS（如
    profiles、articles、tasks、user_connections、match_preferences、community_activities、article_likes、article_bookmarks、article_reports、admin_applications、admin_logs）。
    根据各表的高频过滤列与外键列建立索引（如
    user_id、status、created_at、author_id 等）。
    针对关系唯一性场景添加唯一约束（如 article_likes、article_bookmarks 的
    (article_id, user_id)，user_connections 的 (from_user_id, to_user_id,
    connection_type)）。
